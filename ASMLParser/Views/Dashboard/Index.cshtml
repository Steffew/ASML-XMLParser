@{
    ViewData["Title"] = "Dashboard";
}
@model DashboardViewModel;

<div class="dashboard-totalborder">
	<div class="dashboard-totaltext">
		<div>
			<h5>Total machines</h5>
			<span>@Model.TotalMachines</span>
		</div>
		<div>
			<h5>Total events</h5>
			<span>@Model.TotalEvents</span>
		</div>
		<div>
			<h5>Total parameters</h5>
			<span>@Model.TotalParameters</span>
		</div>
	</div>
</div>

@if (Model.Machines.Count == 0)
{
	<div class="dashboard-totalborder dashboard-totaltext">
		<span class="fw-bold">No machines found</span>
	</div>
}
else
{
	int machineRowNumber = 1;
	<table class="datatable mb-5">
		<tr>
			<th></th>
			<th>MachineID</th>
			<th>Event</th>
			<th>Parameter</th>
		</tr>
		@foreach (MachineViewModel machine in Model.Machines)
		{
			foreach(EventViewModel eventModel in machine.Events)
			{
				foreach(ParameterViewModel parameter in eventModel.Parameters)
				{
					<tr>
						<td>@machineRowNumber</td>
						<td>@machine.Name</td>
						<td>@eventModel.Name</td>
						<td>@parameter.Name</td>
					</tr>
					machineRowNumber++;
				}
			}
		}
	</table>
}